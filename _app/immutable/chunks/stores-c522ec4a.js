import{d as l,w as u}from"./index-a754c8fa.js";import{C as b}from"./index-2fd92ac7.js";const m=e=>{const{subscribe:d,set:a}=u({});return{subscribe:d,connectExternal:async c=>await e.connectExternal(s=>{a({address:s,connected:!0}),c&&c()}),connectInjected:async c=>{await e.connectInjected(t=>{a({address:t,connected:!0}),c&&c()})},disconnect:async()=>{await e.disconnect(),a({address:"",connected:!1})},available:e.available,injected:e.injected,embedded:e.embedded}},f=()=>{let e={wallets:{}};const{subscribe:d,set:a}=u(e);return{subscribe:d,async init(r){let n={};for(let[t,s]of Object.entries(r))await s.ready,n[t]=m(s);let i=l(Object.values(n),t=>t.some(s=>s.connected)),c=l(Object.values(n),t=>t.map(o=>o.address).filter(o=>o&&o!=="")[0]);a({connected:i,address:c,wallets:n})},async disconnect(){let r=b(this);for(let n of Object.values(r.wallets))await n.disconnect()}}},k=f();export{k as T};
